(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{416:function(t,s,a){"use strict";a.r(s);var n=a(33),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"web-性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-性能优化"}},[t._v("#")]),t._v(" web 性能优化")]),t._v(" "),a("h4",{attrs:{id:"_1-加载渲染层面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-加载渲染层面"}},[t._v("#")]),t._v(" 1.加载渲染层面")]),t._v(" "),a("h5",{attrs:{id:"_1-1-缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-缓存"}},[t._v("#")]),t._v(" 1.1 缓存")]),t._v(" "),a("p",[t._v("首次没有缓存")]),t._v(" "),a("h5",{attrs:{id:"_1-2-dns查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-dns查询"}},[t._v("#")]),t._v(" 1.2 DNS查询")]),t._v(" "),a("ul",[a("li",[t._v("减少DNS查询")]),t._v(" "),a("li",[t._v("放到一个域名下")])]),t._v(" "),a("h5",{attrs:{id:"_1-3-建立tcp链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-建立tcp链接"}},[t._v("#")]),t._v(" 1.3 建立tcp链接")]),t._v(" "),a("ul",[a("li",[t._v("复用连接数 请求头加上keep-alive")]),t._v(" "),a("li",[t._v("http2.0 多路复用")])]),t._v(" "),a("h5",{attrs:{id:"_1-4-发送请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-发送请求"}},[t._v("#")]),t._v(" 1.4 发送请求")]),t._v(" "),a("ul",[a("li",[t._v("减少cookie体积，不滥用cookie")]),t._v(" "),a("li",[t._v("发送多个HTTP请求，增加域名（可以多发送http请求）和减少DNS查询（减少HTTP请求），进行权衡比较，文件多增加，文件少放到一起")]),t._v(" "),a("li",[t._v("Cache-Control:no-cache 是不发送请求")])]),t._v(" "),a("h5",{attrs:{id:"_1-5-接收响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-接收响应"}},[t._v("#")]),t._v(" 1.5 接收响应")]),t._v(" "),a("ul",[a("li",[t._v("ETag：发送请求返回一个304用本地的")]),t._v(" "),a("li",[t._v("gzip压缩")])]),t._v(" "),a("h5",{attrs:{id:"_1-6-接收完成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-接收完成"}},[t._v("#")]),t._v(" 1.6 接收完成")]),t._v(" "),a("ul",[a("li",[t._v("得到HTML")])]),t._v(" "),a("h5",{attrs:{id:"_1-7-解析html"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-解析html"}},[t._v("#")]),t._v(" 1.7 解析HTML")]),t._v(" "),a("ul",[a("li",[t._v("查看 DOCTYPE html")]),t._v(" "),a("li",[t._v("逐行阅读")]),t._v(" "),a("li",[t._v("发现标签"),a("h1",[a("ul",[a("li",[t._v("Chrome不渲染\n"),a("ul",[a("li",[t._v("因为解析到css后会重新渲染样式，解析完css再渲染页面能避免重复渲染。")])])]),t._v(" "),a("li",[t._v("IE，Firefox直接渲染")])])])])]),t._v(" "),a("h5",{attrs:{id:"_1-8-下载css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-下载css"}},[t._v("#")]),t._v(" 1.8 下载CSS")]),t._v(" "),a("ul",[a("li",[t._v("增加域名,使用CDN（就近访问 ）下载多个css")]),t._v(" "),a("li",[t._v("css放到head里，js放到最后（尽早获取DOM节点）")]),t._v(" "),a("li",[t._v("Chrome会阻塞html渲染，IE不会")]),t._v(" "),a("li",[t._v("可以同时下载8个，并行下载")]),t._v(" "),a("li",[t._v("IE能同时下载4个")])]),t._v(" "),a("h5",{attrs:{id:"_1-9-依次解析css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-依次解析css"}},[t._v("#")]),t._v(" 1.9 依次解析CSS")]),t._v(" "),a("h5",{attrs:{id:"_1-10-看到js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-看到js"}},[t._v("#")]),t._v(" 1.10 看到JS")]),t._v(" "),a("ul",[a("li",[t._v("懒加载")]),t._v(" "),a("li",[t._v("有js就下载，不会执行JS")])]),t._v(" "),a("h5",{attrs:{id:"_1-11-下载js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-下载js"}},[t._v("#")]),t._v(" 1.11 下载JS")]),t._v(" "),a("ul",[a("li",[t._v("会阻塞HTML")])]),t._v(" "),a("h4",{attrs:{id:"_2-代码编写层面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-代码编写层面"}},[t._v("#")]),t._v(" 2. 代码编写层面")]),t._v(" "),a("h5",{attrs:{id:"_2-1-循环的性能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-循环的性能"}},[t._v("#")]),t._v(" 2.1 循环的性能")]),t._v(" "),a("p",[t._v("考察 "),a("code",[t._v("for")]),t._v("、"),a("code",[t._v("for...of")]),t._v("、"),a("code",[t._v("for...in")]),t._v("、"),a("code",[t._v("forEach")]),t._v("、"),a("code",[t._v("while")]),t._v("、"),a("code",[t._v("do...while")]),t._v("等")]),t._v(" "),a("p",[t._v("可以使用 "),a("code",[t._v("console.time")]),t._v(" 和 "),a("code",[t._v("console.timeEnd")]),t._v(" 进行测试")]),t._v(" "),a("p",[t._v("遍历的时候是否存在查找原型链的过程")]),t._v(" "),a("p",[a("code",[t._v("v8引擎")]),t._v("新版本针对"),a("strong",[t._v("对象取值")]),t._v("等操作进行了最大限度的性能优化。")]),t._v(" "),a("p",[t._v("**其实不管是 forEach 还是 for of  在 v8 中随便用，无需考虑性能问题 **")]),t._v(" "),a("p",[a("code",[t._v("for循环 while循环 for of 循环")]),t._v("是可以通过"),a("code",[t._v("break")]),t._v("关键字跳出的，而"),a("code",[t._v("forEach map")]),t._v("这种循环是无法跳出的。")]),t._v(" "),a("p",[t._v("取值循环（列表渲染）：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" persons "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方法一 第二快")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" persons"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("persons"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方法二")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" len "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" persons"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" len"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("persons"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方法三")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" person "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" persons"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方法四 平局使用内存最小 速度最快")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只创建了一个变量 i")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" persons"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("persons"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h5",{attrs:{id:"_2-2-if-else-switch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-if-else-switch"}},[t._v("#")]),t._v(" 2.2 if...else switch")]),t._v(" "),a("p",[t._v("数组的写法：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" statusArr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 进行匹配")]),t._v("\nstatusArr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("ul",[a("li",[a("p",[t._v("1-4 个条件判断还是推荐 "),a("code",[t._v("if-else")]),t._v(" 毕竟性能已经不错了和数组平起平坐。")])]),t._v(" "),a("li",[a("p",[t._v("4-8 个数量 "),a("code",[t._v("switch")]),t._v(" 比 "),a("code",[t._v("if-else")]),t._v(" 好用，但是还是远远不如数组。")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);