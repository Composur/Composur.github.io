(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{349:function(t,s,a){t.exports=a.p+"assets/img/http3.d0b32f45.jpg"},350:function(t,s,a){t.exports=a.p+"assets/img/uri02.122cb877.jpg"},411:function(t,s,a){"use strict";a.r(s);var e=a(33),_=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"http-、https"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-、https"}},[t._v("#")]),t._v(" HTTP 、HTTPS")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Http协议是什么？有哪些特点？")]),t._v(" "),e("ul",[e("li",[t._v("header + body 结。 "),e("strong",[t._v("起始行 + 头部 + 空行 + 实体")])])]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[t._v("# 起始行 方法 + 路径 + 版本号\n"),e("span",{pre:!0,attrs:{class:"token request-line"}},[e("span",{pre:!0,attrs:{class:"token property"}},[t._v("GET")]),t._v(" /home HTTP/1.1")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[t._v("GET 与 POST 有什么区别？")]),t._v(" "),e("ul",[e("li")])])]),t._v(" "),e("ol",[e("li",[t._v("在HTML的form 标签里，method支持哪些类型？")]),t._v(" "),e("li",[t._v("状态码 200、301、302、304、403、404、500、503分别代表什么？")]),t._v(" "),e("li",[t._v("Web安全中有哪些常见的攻击方式？")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("http 进行非对称加密，得到 https，这个过程是怎么样的？什么是 CA 证书？整个网站进行验证的流程是什么？")]),t._v(" "),e("p",[t._v("由于 http 明文传输，传输报文对外透明，非常不安全。https 并不是一个新协议")]),t._v(" "),e("p",[t._v("https = http + ssl/tsl")]),t._v(" "),e("p",[t._v("浏览器发送 client_random 等")]),t._v(" "),e("p",[t._v("服务端确认 server_random tls 版本等")]),t._v(" "),e("p",[t._v("客户端验证证书，验证通过 生成 secret")]),t._v(" "),e("p",[t._v("服务端生成 secret")]),t._v(" "),e("p",[t._v("Tsl 是一个双向验证的过程，握手正式结束后，HTTP 才开始正式的加密报文传输。")]),t._v(" "),e("p",[t._v("采用 hash 算法，公钥加密，私钥解密")])]),t._v(" "),e("li",[e("p",[t._v("http 各个版本的区别是什么？解决了哪些问题？比如头部缩减的优化，那你了解这个优化的具体策略吗？缩减了什么？又增加了什么？要深挖细节。")]),t._v(" "),e("ul",[e("li",[t._v("http 1.1 的缺陷高延时，带来的页面加载速度降低。\n"),e("ul",[e("li",[t._v("将同一页面的资源分散到不同域名下（Chrome对于同一个域名，默认允许同时建立 6 个 TCP持久连接）")]),t._v(" "),e("li",[t._v("Spriting合并多张小图为一张大图")])])]),t._v(" "),e("li",[t._v('http 头部巨大 （"User Agent""Cookie""Accept""Server"）等')]),t._v(" "),e("li",[t._v("http 1.1 解决了明文传输--带来的不安全性")]),t._v(" "),e("li",[t._v("http2\n"),e("ul",[e("li",[t._v("HTTP/2基于SPDY，专注于性能，最大的一个目标是在用户和网站间只用一个连接（connection）")]),t._v(" "),e("li",[t._v("使用HTTP/2能带来20%~60%的效率提升。")])])])])]),t._v(" "),e("li",[e("p",[t._v("HTTP 2 新特性")]),t._v(" "),e("ul",[e("li",[t._v("资源优先级和依赖设置")]),t._v(" "),e("li",[t._v("服务器推送")]),t._v(" "),e("li",[t._v("流量控制")]),t._v(" "),e("li",[t._v("重置消息")]),t._v(" "),e("li",[t._v("头部压缩、二进制传输\n"),e("ul",[e("li",[t._v('以二进制方式传输 和 Header 压缩，。建立索引表让请求头字段得到极大程度的精简和复用。原来的"Header+Body"的消息"打散"为数个小片的二进制"帧，用'),e("strong",[t._v("Headers帧")]),t._v("存放头部字段，"),e("strong",[t._v("Data帧")]),t._v("存放请求体数据")])])]),t._v(" "),e("li",[t._v("多路复用\n"),e("ul",[e("li",[e("strong",[t._v("HTTP/2是基于二进制“帧”的协议，HTTP/1.1是基于“文本分割” （key:value）解析的协议。")]),t._v(" 所有 HTTP2很好的解决了浏览器限制同一个域名下的请求数量的问题，同时也接更容易实现全速传输")]),t._v(" "),e("li",[t._v("一次请求完成（html css js 下载到浏览器）")])])]),t._v(" "),e("li",[t._v("HTTP/2 使用 TCP 协议来传输的，而如果使用 HTTPS 的话，还需要使用 TLS 协议进行安全传输，而使用TLS也需要一个握手过程，"),e("strong",[t._v("这样就需要有两个握手延迟过程")]),t._v("：")])])]),t._v(" "),e("li",[e("p",[t._v("HTTP 1、2、3")]),t._v(" "),e("p",[e("img",{attrs:{src:a(349),alt:"http3"}})]),t._v(" "),e("ul",[e("li",[e("p",[t._v("http3 基于 UDP 的 Quic")])]),t._v(" "),e("li",[e("p",[t._v("HTTP/1.1 有两个主要的缺点：安全不足和性能不高。")])]),t._v(" "),e("li",[e("p",[t._v('HTTP/2 完全兼容HTTP/1，是“更安全的HTTP、更快的HTTPS"，头部压缩、多路复用等技术可以充分利用带宽，降低延迟，从而大幅度提高上网体验；')])]),t._v(" "),e("li",[e("p",[t._v("QUIC 基于 UDP 实现，是 HTTP/3 中的底层支撑协议，该协议基于 UDP，又取了 TCP 中的精华，实现了既快又可靠的协议")])])])])]),t._v(" "),e("ol",[e("li"),t._v(" "),e("li",[t._v("URI和URL的区别？\n"),e("ul",[e("li",[t._v("URI是"),e("code",[t._v("Uniform Resource Identifier")]),t._v("的缩写,统一资源标识符,即由某个协议方案表示的资源的定位标识符")]),t._v(" "),e("li",[t._v("URI 用字符串标识某一互联网资源，而 URL表示资源的地点（互联网上所处的位置）。可见 URL是 URI 的子集"),e("br")]),t._v(" "),e("li",[t._v("URI的例子\n"),e("img",{attrs:{src:"http://cdn.xutong.top/uri.jpg",alt:"uri"}})]),t._v(" "),e("li",[t._v("绝对URI的格式,遵循以下规则。\n"),e("img",{attrs:{src:a(350),alt:"uri"}})])])]),t._v(" "),e("li",[t._v("一次完整的Http请求所经历哪些步骤？")])]),t._v(" "),e("h2",{attrs:{id:"http-进阶"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-进阶"}},[t._v("#")]),t._v(" HTTP 进阶")]),t._v(" "),e("ul",[e("li",[t._v("说说Http协议的工作流程")]),t._v(" "),e("li",[t._v("Http请求报文与响应报文的格式？")]),t._v(" "),e("li",[t._v("Http首部包含哪些字段？举例说明")]),t._v(" "),e("li",[t._v("Https的原理是什么？")]),t._v(" "),e("li",[t._v("浅析Http和Https的三次握手有什么区别。")]),t._v(" "),e("li",[t._v("谈谈Session/cookie机制，如何实现会话跟踪？")]),t._v(" "),e("li",[t._v("什么是Web缓存？原理如何？")]),t._v(" "),e("li",[t._v("OSI有哪七层模型？TCP/IP是哪四层模型。")]),t._v(" "),e("li",[t._v("讲一讲TCP协议的三次握手和四次挥手流程。")]),t._v(" "),e("li",[t._v("为什么TCP建立连接协议是三次握手，而关闭连接却是四次握手呢？为什么不能用两次握手进行连接？")]),t._v(" "),e("li",[t._v("websockt是什么？和Http有什么区别？")]),t._v(" "),e("li",[t._v("什么是非持久连接，什么是持久连接？")]),t._v(" "),e("li",[t._v("Keep-Alive: timeout=5, max=100是什么意思？")]),t._v(" "),e("li",[t._v("http1.0，http1.1，http2.0区别（HTTP1.1版本新特性？HTTP2版本新特性？）")]),t._v(" "),e("li",[t._v("对Http代理做个介绍？")]),t._v(" "),e("li",[t._v("常见的鉴权方式有哪些？")]),t._v(" "),e("li",[t._v("http 2 http3\n"),e("ul",[e("li",[t._v("以富媒体（如图片、声音、视频）")])])])]),t._v(" "),e("h2",{attrs:{id:"cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" Cookie")]),t._v(" "),e("h3",{attrs:{id:"_1-cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-cookie"}},[t._v("#")]),t._v(" 1. Cookie")]),t._v(" "),e("blockquote",[e("p",[t._v("Cookie（复数形态Cookies），类型为「小型文本文件」，指某些网站为了辨别用户身份而储存在用户本地终端上的数据。")])]),t._v(" "),e("h4",{attrs:{id:"_1-1-cookie-有什么用？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-cookie-有什么用？"}},[t._v("#")]),t._v(" 1.1 Cookie 有什么用？")]),t._v(" "),e("p",[t._v("为了解决 "),e("code",[t._v("HTTP")]),t._v(" 无状态导致的问题中，客户端与服务端会话状态的问题。这个状态单指后端服务的状态而非通信协议的状态。")]),t._v(" "),e("ol",[e("li",[t._v("会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）")]),t._v(" "),e("li",[t._v("个性化设置（如用户自定义设置、主题等）")]),t._v(" "),e("li",[t._v("浏览器行为跟踪（如跟踪分析用户行为等）")])]),t._v(" "),e("h4",{attrs:{id:"_1-2-cookie-有哪些部分组成？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-cookie-有哪些部分组成？"}},[t._v("#")]),t._v(" 1.2 Cookie 有哪些部分组成？")]),t._v(" "),e("p",[t._v("作为一段一般不超过 4KB 的小型文本数据，它由一个名称（Name）、一个值（Value）和其它几个用于控制 Cookie 有效期、安全性、使用范围的可选属性组成。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Name / Value")]),t._v(" "),e("ul",[e("li",[t._v("用 JavaScript 操作 Cookie 的时候注意对 Value 进行编码处理。")])])]),t._v(" "),e("li",[e("p",[t._v("Expirse")]),t._v(" "),e("ul",[e("li",[t._v("用于设置 Cookie 的过期时间。")]),t._v(" "),e("li",[t._v("当 Expires 属性缺省时，表示是会话性 Cookie。关闭浏览器失效。有些浏览器提供了会话恢复功能，这样会保存 Cookie。")]),t._v(" "),e("li",[t._v("过期的时间只与客户端相关，而不是服务端。")])])]),t._v(" "),e("li",[e("p",[t._v("Max-Age")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("用于设置在 Cookie 失效之前需要经过的秒数")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cookie")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userid'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("maxAge"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[t._v("Max-Age 可以为正数、负数、甚至是 0。")])]),t._v(" "),e("li",[e("p",[t._v("如果 max-Age 属性为正数时，浏览器会将其持久化，即写到对应的 Cookie 文件中。")])]),t._v(" "),e("li",[e("p",[t._v("当 max-Age 属性为负数，则表示该 Cookie 只是一个会话性 Cookie。")])]),t._v(" "),e("li",[e("p",[t._v("当 max-Age 为 0 时，则会立即删除这个 Cookie。")])]),t._v(" "),e("li",[e("p",[t._v("假如 Expires 和 Max-Age 都存在，Max-Age 优先级更高。")])])])]),t._v(" "),e("li",[e("p",[t._v("Domain")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("指定了 Cookie 可以送达的主机名")])]),t._v(" "),e("li",[e("p",[t._v("没有指定默认是当前主机部分（不含子域名）")]),t._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[t._v(".xxx.com\n")])])])])])]),t._v(" "),e("li",[e("p",[t._v("Path")]),t._v(" "),e("ul",[e("li",[t._v("Domain 和 Path 标识共同定义了 Cookie 的作用域：即 Cookie 应该发送给哪些 URL")])])]),t._v(" "),e("li",[e("p",[t._v("Secure")]),t._v(" "),e("ul",[e("li",[t._v("标记为 Secure 的 Cookie 只应通过被 HTTPS 协议加密过的请求发送给服务端")])])]),t._v(" "),e("li",[e("p",[t._v("HTTPOnly")]),t._v(" "),e("ul",[e("li",[t._v("设置 HTTPOnly 属性可以防止客户端脚本通过 document.cookie 等方式访问 Cookie，有助于避免 XSS 攻击。")])])]),t._v(" "),e("li",[e("h4",{attrs:{id:"samesite"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#samesite"}},[t._v("#")]),t._v(" SameSite")]),t._v(" "),e("p",[e("em",[t._v("Chrome80 版本中默认屏蔽了第三方的 Cookie")])]),t._v(" "),e("ul",[e("li",[t._v("SameSite 属性可以让 Cookie 在跨站请求时不会被发送，从而可以阻止跨站请求伪造攻击（CSRF）。\n"),e("ul",[e("li",[e("strong",[t._v("Strict")]),t._v("浏览器将只发送相同站点请求的 Cookie,当前网页 URL 与请求目标 URL 需完全一致。")]),t._v(" "),e("li",[e("strong",[t._v("Lax")]),t._v(" 允许部分第三方请求携带 Cookie")]),t._v(" "),e("li",[e("strong",[t._v("None")]),t._v(" 无论是否跨站都会发送 Cookie")])])]),t._v(" "),e("li",[t._v("之前默认是 None 的，Chrome80 后默认是 Lax。")])])])]),t._v(" "),e("h4",{attrs:{id:"_1-3-如何查看-cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-如何查看-cookie"}},[t._v("#")]),t._v(" 1.3 如何查看 Cookie ?")]),t._v(" "),e("ul",[e("li",[t._v("可以在浏览器的开发者工具中查看到当前页面的 Cookie")]),t._v(" "),e("li",[t._v("可以在计算机上查看本机的 Cookies 文件 ("),e("small",[t._v("以 Mac 为例")]),t._v(")\n"),e("ul",[e("li",[t._v("路径为:"),e("code",[t._v("/Users/haizhi/Library/ApplicationSupport/Google/Chrome/Default")])]),t._v(" "),e("li",[t._v("它是一个 "),e("code",[t._v("sqlite")]),t._v(" 数据库文件，可以用 "),e("code",[t._v("sqlite")]),t._v(" 客户端打开查看。")])])])]),t._v(" "),e("h4",{attrs:{id:"_1-4-怎么设置-cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-怎么设置-cookie"}},[t._v("#")]),t._v(" 1.4 怎么设置 Cookie")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("客户端发送 HTTP 请求到服务器")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 登录")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("reqLogin")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/login'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[t._v("当服务器收到 HTTP 请求时，在响应头里面添加一个 Set-Cookie 字段 ("),e("small",[e("code",[t._v("express")]),t._v(" 为例")]),t._v(")")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("router"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/login'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// if success")]),t._v("\n  res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cookie")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userid'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("maxAge"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[t._v("浏览器收到响应后保存下 Cookie")]),t._v(" "),e("p",[t._v("收到响应：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/Users/haizhi/personal/awesome/docs/img/set-cookie.jpg",alt:"setCookie"}})]),t._v(" "),e("p",[t._v("保存 Cookie:")]),t._v(" "),e("p",[e("img",{attrs:{src:"/Users/haizhi/personal/awesome/docs/img/cookie_store.jpg",alt:"cookie的存储"}})])]),t._v(" "),e("li",[e("p",[t._v("之后对该服务器每一次请求中都通过 Cookie 字段将 Cookie 信息发送给服务器。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/Users/haizhi/personal/awesome/docs/img/send-cookie.jpg",alt:"发送Cookie"}})])])]),t._v(" "),e("h4",{attrs:{id:"_1-5-cookie-的缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-cookie-的缺点"}},[t._v("#")]),t._v(" 1.5 Cookie 的缺点")]),t._v(" "),e("ul",[e("li",[t._v("大小方向")]),t._v(" "),e("li",[t._v("安全方向")]),t._v(" "),e("li",[t._v("增加请求方向")])]),t._v(" "),e("h2",{attrs:{id:"请求库默认携带-cookie-的情况"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#请求库默认携带-cookie-的情况"}},[t._v("#")]),t._v(" 请求库默认携带 cookie 的情况")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("fetch")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("fetch")]),t._v(" 在默认情况下, 不管是同域还是跨域`` ajax"),e("code",[t._v("请求都不会带上")]),t._v("cookie"),e("code",[t._v(", 只有当设置了")]),t._v("credentials"),e("code",[t._v("时才会带上该")]),t._v("ajax"),e("code",[t._v("请求所在域的")]),t._v("cookie"),e("code",[t._v(", 服务端需要设置响应头")]),t._v("Access-Control-Allow-Credentials: true`, 否则浏览器会因为安全限制而报错, 拿不到响应")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    credentials"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"include"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// include, same-origin, omit")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// include: 跨域 ajax 带上 cookie")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// same-origin: 仅同域 ajax 带上 cookie")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// omit: 任何情况都不带 cookie")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[t._v("axios")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("axios")]),t._v(" 和 "),e("code",[t._v("jQuery")]),t._v(" 在同域 "),e("code",[t._v("ajax")]),t._v(" 请求时会带上 "),e("code",[t._v("cookie")]),t._v(", 跨域请求不会, 跨域请求需要设置 "),e("code",[t._v("withCredentials")]),t._v(" 和服务端响应头")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("axios"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://server.com'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("withCredentials"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])])}),[],!1,null,null,null);s.default=_.exports}}]);